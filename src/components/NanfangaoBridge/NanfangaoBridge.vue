<template>
  <div>
    <TheCover />
    <main ref="main">
      <BaseContent>
        <p>2019 年 10 月 1 日，米塔颱風剛過，雨過天晴，南方澳漁民吳文明一位愛好攝影的朋友，一早就在蘇花公路上拍攝南方澳。「結果他說拍照到一半，南方澳跨港大橋突然間不見了。」大橋從吳文明朋友相機觀景窗消失的時間是 9 時 30 分——一輛油罐車正將駛出橋尾，大橋崩裂，橋體掉落撞擊三艘漁船致沉沒於航道，油罐車亦落海起火，共計有 19 名人員傷亡，其中 6 名死者皆為移工，最年輕的死者僅 28 歲。</p>
        <p>「聽說大橋垮了，我們南方澳沒人相信！」吳文明說，這座橋一直是當地重要地標，凡是有人想認識南方澳，當地人一定帶他到橋上俯瞰。「南方澳才 2 平方公里，站在上面，每個地方都看得到、指得到、講得到。」橋垮了，南方澳人相當不捨，但更震驚：這座橋才 21 年，怎麼會斷！</p>
        <p>南方澳跨港大橋於 1996 年開工興建、1998 年即完工，為亞洲第一座雙叉式單拱橋。在非天災衝擊當下發生斷裂事故，引發社會譁然。交通部針對南方澳大橋斷裂事件進行專題報告時指出，依據目前所獲相關資訊，初步判斷應為拱橋西側約 5 至 6 根預力吊索斷裂引起（吊索共 13 支）。該吊索均有塑料套管保護以避免鏽蝕，橋墩務鬆脫或掏空現象發生。</p>
      </BaseContent>

      <FixedSlides :ww="ww" :wh="wh" />

      <BaseContent>
        <p>不少具工程、土木背景專家回溯事故發生影片，紛紛指出南方澳跨港大橋於斷裂坍陷前，穩定大橋的 13 根吊索就有不平衡狀態、吊索力量可能有所鬆弛。吳文明補充，近來政府為創造海埔新生地，大卡車頻繁超載消坡塊往來跨港大橋兩端，加上南方澳第三漁港長時間整修，「（橋的）上下都有干擾，可能摧枯拉朽。」</p>
      </BaseContent>

      <picture class="chart chart--three-steps">
        <source media="(min-width: 1200px)" srcset="/proj-assets/nanfangao-bridge/img/chart/three-steps-desktop.png">
        <img loading="lazy" src="/proj-assets/nanfangao-bridge/img/chart/three-steps-mobile.png" alt="">
      </picture>

      <BaseContent>
        <p>財團法人台灣營建研究院工程技術研究所長張嘉峰表示，以目前交通部專題報告中公佈的「預力吊索斷裂」為例，至少就有「超載、超重」、「地震」、「高鹽害環境導致吊索鏽蝕」、「端錨與錨座鬆脫」等可能影響吊索安全的因素。目前交通部雖表示吊索外部有包覆塑料套管（HDPE）避免鏽蝕。然而，施工時塑料套管是否有確實施作良好以包覆吊索、或套管施作後是否有灌注油膏等，現階段都要先盡可能完整保全證據，不預設方向立場，才能待後續進一步釐清大橋斷裂的事故原因。</p>
        <h2 ref="contentTitle1">交接不清&emsp;南方澳大橋成孤兒</h2>
        <p>台灣港務公司董事長吳宗榮在立法院交通委員會備詢時坦言，台灣港務公司未曾主動檢測南方澳跨港大橋。朝野立委痛批，大橋吊索 21 年來未經檢測，形同官僚殺人。南方澳跨港大橋為何成為孤兒橋，必須回溯它的興建與交接歷史。</p>
        <p>吳文明說，最初南方澳人口密度低，當地居民雖有跨港至對岸造船廠的需求，多半選擇步行繞經內埤，或搭乘渡輪。1965 年，政府因應遠洋漁業發展，興建南方澳第三漁港建港，成為大型圍網漁船及遠洋漁船停泊處，南方澳人口也逐漸攀升。</p>
        <p>「經濟比較好，大家可以買汽機車，加上蘇澳港要做堤防，有交通需求，就蓋了一條混凝土的駝背橋。」吳文明說，當時南方澳漁船都屬小型，可順利通行駝背橋下，日後船型變大，船隻經常撞到駝背橋而毀損，也難以到對岸造船廠維修，才在省政府時代向時任省長的宋楚瑜陳情，興建不需落柱於海中的橋型，也就是今日的跨港大橋。</p>

        <BaseHighcharts style="height: 316px;">
          <iframe loading="lazy" class="highcharts-iframe" src="https://cloud.highcharts.com/embed/ufYKfS7l/" style="border: 0; width: 100%; height: 100%;"></iframe>
        </BaseHighcharts>

        <p>宜蘭縣政府交通處養護工程科長翁鄭啟志說，當時省政府責陳基隆港務局負責興建，因不具土木專業，出資由宜蘭縣政府代辦工程設計、建造與發包施工。宜蘭縣政府於完工後就將橋梁移交回基隆港務局；2012 年 3 月 1 日，港務局民營化，政企分離後，港務局蛻變為台灣港務公司，專管經營，至於航務等管理，則隸屬航港局。</p>
        <p>不過因管理單位登記有誤，直至 2016 年前，蘇澳鎮公所都以為這條橋隸屬自己的管理範圍，依照《公路橋梁檢測及補強規範》規範，每兩年進行一次檢測。移交當年，曾將檢測報告一併提供台灣港務公司參考。移交迄今，這座橋卻沒被納入現行橋梁管理系統，台灣港務公司亦無進行任何獨立檢測。</p>
        <h2 ref="contentTitle2">立委：目視檢測品質低劣</h2>
        <p>台灣港務公司助理副總王錦榮主張，這次受到外界責難，是因為沒有交接清楚的緣故。但立委鄭寶清說，台灣港務公司對轄下 17 座橋梁也都放任管理，再度引發輿論關注。台灣港務公司董事長吳宗榮已請辭獲准。</p>
        <p>「沒有檢測不代表沒有維護。」王錦榮強調，「南方澳跨港大橋通車完工以來，平均每年都有編列 100 至 150 萬進行改善。」在接管後，也依照宜蘭縣政府提供報告進行改善。但若看改善標的，是「混凝土裂縫」、「鋼筋鏽蝕」、「落水管老舊」、「伸縮縫代清理」等項目，與這次斷橋事件中的吊索並無直接連帶。</p>
      </BaseContent>

      <TwoImgs src1="/proj-assets/nanfangao-bridge/img/two-1.jpg" src2="/proj-assets/nanfangao-bridge/img/two-2.jpg">斷裂的南方澳跨港大橋現在仍尚待修復中。</TwoImgs>

      <BaseContent>
        <p>立委黃國昌於交通委員會質詢時指出，無論依照現有拱橋或斜張橋規定，南方澳跨港大橋的吊索應列入檢測，砲轟宜蘭縣政府與港務公司雙雙都有缺失。此外，他也質疑用目視法檢驗橋梁才會「品質低劣」。</p>
        <p>黃國昌的監督不能算錯，但卻不盡精確。吊索的漏列，其實牽涉檢測專業與現行檢測制度的問題。</p>
        <h2 ref="contentTitle3">專家：部頒規範僅是低標</h2>
        <p>回溯《公路橋梁檢測及補強規範》發展歷史，可以發現，早期橋梁建設工法與材料都與現今差異極大，世界各國的橋梁檢測，亦是從每次災難中滾動式檢討。</p>
        <p>台灣首次大宗橋梁意外事故，是 1986 年的中興橋坍陷事件。事故後，行政院指示經建會（現國家發展委員會）研究橋梁檢測安全制度，於 1995 年開始進行橋梁檢測作業。不過這套檢測作業由各個交通單位或地方政府自行辦理、缺乏統合。1999 年九二一大震發生後，才統整為目前橋梁管理系統的雛形，並於 2001 年起上線供全國各橋梁主管機關使用。</p>
        <p>九二一大地震時，交通部著重提升橋梁耐震能力；2000 年碧利斯颱風造成高屏大橋斷裂後，始規範新橋自完工後第五年開始要進行定期檢測，之後至少每兩年要檢測一次的頻率。2008 年辛樂克颱風造成后豐大橋斷裂，橋梁的水下基礎開始全面體檢。同年，《公路鋼結構橋梁之檢測及補強規範》才頒布。</p>

        <picture class="chart">
          <source media="(min-width: 576px)" srcset="/proj-assets/nanfangao-bridge/img/chart/timeline-desktop.png">
          <img loading="lazy" :src="`/proj-assets/nanfangao-bridge/img/chart/timeline-mobile.png`" alt="">
          <!-- <img loading="lazy" :src="`/proj-assets/nanfangao-bridge/img/chart/timeline-${timelineImgSize}.png`" alt=""> -->
        </picture>

        <p>張嘉峰表示，歷年修訂的部頒橋梁檢測規範，是針對一般類型橋梁原則性所「訂出最基礎的檢測標準」，以提供各主管機關參考，並無斜張橋等特殊橋梁的規範，各主管機關應就轄管特殊橋梁另訂檢測項目。</p>
        <h2 ref="contentTitle4">橋梁門外漢請託無門&emsp;只因檢測經費低</h2>
        <p>一位航港局員工私下透露，航港局轄下 17 座橋，幾乎都未對外開放、鮮少供人行走，僅提供載卸貨使用，形式多半為傳統橋梁。「南方澳跨港大橋完全在港區外，當初也是地方爭取才建設，產權雖隸屬航港局，實際卻是地方在用，「對我們來說是一般公路橋梁的概念。若非這次事故，恐怕還是按照一般規範來進行檢測。」</p>
        <p>「我們港務公司的確只懂船。」王錦榮表示，當時南方澳跨港大橋移交回來時讓他們很苦惱，曾問公路總局可不可以代管？可是被拒絕了。「大概是認為多一事不如少一事。」</p>
        <p>根據統計，公路總局至 2018 年止，轄下管理的橋梁座就有將近 4000 座。於養護而言是極為沉重的負擔。近年運研所為修正橋梁管理制度，多次召開討論會議，席中所有單位的共同心聲是：檢測經費過少。</p>
        <h2 ref="contentTitle5">用兩元撐起橋梁安全標準</h2>
        <p>目前全台橋梁超過 2 萬座，橋梁目視檢測經費差異甚大。台北市與省道的單價集中於每平方米 20 至 60 元，「但也有其他單位是 2、3 元左右。」張嘉峰說，立委批評目視法過於簡陋，但執行檢測要考量的面向廣泛，在考量實務操作與經費下，才會先選擇快速、操作容易的目視檢測，「而且目視檢測並非橋梁檢測的全部。」</p>
        <p>張嘉峰強調，落實定期目視檢測，可協助主管機關掌握橋梁各構件劣化狀況，一旦對橋梁的系統跟構件「有疑慮」，理當進入第二階段，用儀器做破壞或非破壞性的詳細檢測，並進行安全評估。待確認狀況後，再進行維修與補強。</p>

        <BaseHighcharts style="height: 316px;">
          <iframe loading="lazy" class="highcharts-iframe" src="https://cloud.highcharts.com/embed/FnlaMMid/" style="border: 0; width: 100%; height: 100%;"></iframe>
        </BaseHighcharts>

        <p>事實上，不止台灣，目視檢測在美國、日本都是橋梁檢測的第一道防線。目視檢測的目的，是為了儘早發現橋梁異狀以利後續維護、確保橋梁良好狀態，當構件有疑慮時，就會採專案進行後續維護，包括詳細檢測、安全評估，乃至於監測。</p>
        <p>橋梁檢測是國家重要基礎建設，而確保橋梁安全的檢測則是高度專業的工作，「但對行政部門，尤其地方政府來說，鋪橋造路才是政績，把經費花在這裡，政績難以突顯。」</p>
        <p>這次事故，讓交通部承諾檢測預算「不夠就加」，張嘉峰除期盼相關預算能真正完備，也建議交通部應進行橋梁清查，避免漏列。各單位更應針對所有轄管特殊橋梁研提出符合其特性的檢測標準，建立獨立公正的第三方檢核機制、落實部頒《公路橋梁檢測及補強規範》，才讓南方澳跨港大橋事故，不再重演。</p>
      </BaseContent>

      <FullImg src="/proj-assets/nanfangao-bridge/img/full.jpg" />
    </main>
    <footer ref="footer">
      <TheCredit />
      <TheSubscr />
    </footer>
  </div>
</template>

<script>
import { throttle } from './util/tool.js'

import TheCover from './components/TheCover.vue'
import BaseContent from './components/BaseContent.vue'
import FixedSlides from './components/FixedSlides.vue'
import BaseHighcharts from './components/BaseHighcharts.vue'
import TwoImgs from './components/TwoImgs.vue'
import FullImg from './components/FullImg.vue'
import TheCredit from './components/TheCredit.vue'
import TheSubscr from './components/TheSubscr.vue'

export default {
  name: 'NanfangaoBridge',
  components: {
    TheCover,
    BaseContent,
    FixedSlides,
    BaseHighcharts,
    TwoImgs,
    FullImg,
    TheCredit,
    TheSubscr
  },
  metaInfo () {
    return {
      title: '通往悲劇之路：南方澳跨港大橋如何坍塌',
      description: '2019 年 10 月 1 日，南方澳跨港大橋斷裂，引發社會譁然，事故原因說法眾說紛紜。目前斷橋事故進入調查程序，我們透過 3D 圖解、南方澳跨港大橋的身世及橋梁檢測歷史切入，帶讀者理解這起悲劇的系統性問題。',
      metaUrl: 'nanfangao-bridge',
      metaImage: 'nanfangao-bridge/img/cover.jpg'
      // customScript: '<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css" integrity="sha256-gvEnj2axkqIj4wbYhPjbWV7zttgpzBVEgHub9AAZQD4=" crossorigin="anonymous" />'
    }
  },
  data () {
    return {
      wEl: null,
      htmlEl: null,
      headerBarEl: null,
      ww: 0,
      wh: 0,
      scrollY: 0,
      readingProgress: 0,
      prevReadingProgress: 0,
      refsToDetectReadingProgress: [ 'main', 'contentTitle1', 'contentTitle2', 'contentTitle3', 'contentTitle4', 'contentTitle5', 'footer' ]
      // needHiddenHeaderBar: true
    }
  },
  created () {
    const unwatch = this.$watch('readingProgress', (val) => {
      if (val > this.prevReadingProgress) {
        this.prevReadingProgress = val
        // todo
        switch (val) {
          case 1:
            // console.log(val);
            window.ga('send', 'event', '讀完', '閱讀', '讀完「第一屏」', val)
            break
          case 2:
            // console.log(val);
            window.ga('send', 'event', '讀完', '閱讀', '讀完「3D圖」', val)
            break
          case 3:
            // console.log(val);
            window.ga('send', 'event', '讀完', '閱讀', '讀完「交接不清 南方澳大橋成孤兒」', val)
            break
          case 4:
            // console.log(val);
            window.ga('send', 'event', '讀完', '閱讀', '讀完「立委：目視檢測品質低劣」', val)
            break
          case 5:
            // console.log(val);
            window.ga('send', 'event', '讀完', '閱讀', '讀完「專家：部頒規範僅是低標」', val)
            break
          case 6:
            // console.log(val);
            window.ga('send', 'event', '讀完', '閱讀', '讀完「橋梁門外漢請託無門 只因檢測經費低」', val)
            break
          case 7:
            // console.log(val);
            window.ga('send', 'event', '讀完', '閱讀', '讀完「用兩元撐起橋梁安全標準」', val)
            break
          default:
            break
        }
        if (val === 7) unwatch()
      }
    })
  },
  mounted () {
    this.wEl = window
    this.htmlEl = document.documentElement
    this.headerBarEl = document.getElementById('readr-app-header')
    this.ww = Math.min(this.wEl.innerWidth, this.htmlEl.clientWidth)
    this.wh = this.wEl.innerHeight
    this.scrollY = this.wEl.pageYOffset

    this.wEl.addEventListener('scroll', this.displayHeaderBar)
    this.wEl.addEventListener('scroll', this.letElsDetectReadingProgress)

    this.headerBarEl.addEventListener('mouseenter', this.enterHeaderBar)
    // this.headerBarEl.addEventListener('mouseleave', this.leaveHeaderBar)

    this.wEl.addEventListener('resize', throttle(this.alterWindowSize, 300, 900))
    this.wEl.addEventListener('orientationChange', throttle(this.alterWindowSize, 300, 900))
  },
  // computed: {
  //   threeStepsImgSize () {
  //     return this.ww >= 1200 ? 'desktop' : 'mobile'
  //   },
  //   timelineImgSize () {
  //     return this.ww >= 460 ? 'desktop' : 'mobile'
  //   }
  // },
  methods: {
    alterWindowSize () {
      this.ww = this.htmlEl.clientWidth
      this.wh = this.wEl.innerHeight
    },
    displayHeaderBar () {
      const currentScrollY = this.wEl.pageYOffset
      if (currentScrollY > this.scrollY) this.headerBarEl.classList.add('hidden')
      else this.headerBarEl.classList.remove('hidden')
      this.scrollY = currentScrollY
    },
    enterHeaderBar () { 
      // if (this.headerBarEl.classList.contains('hidden')) this.headerBarEl.classList.remove('hidden')
      // else this.needHiddenHeaderBar = false
      this.headerBarEl.classList.remove('hidden')
    },
    // leaveHeaderBar () {
    //   // if (this.needHiddenHeaderBar) this.headerBarEl.classList.add('hidden')
    //   // this.needHiddenHeaderBar = true
    //   this.headerBarEl.classList.add('hidden')
    // },
    letElsDetectReadingProgress () {
      this.refsToDetectReadingProgress.forEach((ref, idx) => { this.detectReadingProgress(ref, (idx + 1)) })
    },
    detectReadingProgress (ref, part) {
      if (this.readingProgress >= part) return
      const el = this.$refs[ref]
      const elT = el.offsetTop
      const scrollY = this.wEl.pageYOffset
      if ((scrollY + (this.wh / 2)) > elT) this.readingProgress = part
    }
  }
}
</script>

<style lang="stylus">
@import './util/global-var.styl'
html, div, h1, h2, p, a, strong, figure, figcaption, footer, header, section
  margin 0
  padding 0
  border 0
  vertical-align baseline
html
  font-size 10px
  font-family -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "PingFang TC", "Hiragino Sans GB", "Microsoft JhengHei", sans-serif
body
  overflow-anchor auto
.header
  transition transform 0.3s
  &.hidden
    transform translateY(-100%)
.chart
  margin 30px auto
  display block
  &--three-steps
    max-width 650px
    @media (min-width 1200px)
      max-width 1440px
  & img
    width 100%
    vertical-align middle
img
  max-width 100%
  height auto
main
  padding-top 30px
footer
  margin 60px auto 50px auto
  padding-left 15px
  padding-right 15px
  max-width 650px
  @media (min-width 680px)
    padding-left 0
    padding-right 0
  @media (min-width $desktop-breakpoint)
    margin-bottom 70px
</style>